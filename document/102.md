#### 说明
这次的更新主要是对于保存图片的张数，补充图片的类型，图片的裁剪做了一些调整。

#### 功能
第一版上线后，用户反馈最多的问题就是为什么要保存成九张，不能保存成一张，这个问题，很无奈，做这个小程序的时候就是因为看见朋友圈是用九张图片来拼出来的心形，所以最开始就决定最后要保存成九张的，没有考虑要保存成一张，没想到这么多人需要保存成一张，所以这次也就把这个功能实现了。

这个功能实现起来是最简单的了，最开始是需要把大的 canvas 切成九块的，现在不用切了，直接把大的 canvas 整个保存成图片就好了。

补充图片的类型，做出调整是因为用户反馈，希望补充的图片能自己选择，我理解用户的意思就是，不想选太多的图片，也不喜欢小程序自带的补充图片，就只是想用自己选择的几张图片，填充整个心形。

实现这个功能就是用一个对象保存了，每次选择的图片的路径，而对象的属性名就是图片在心形中的 x 和 y 坐标，至于为什么要保存坐标，是因为这个位置的图片，用户可能会更换，如果图片换了的话，之前的图片就不能存在对象里了，如果保存了坐标，图片换了的话，可以直接通过坐标，把图片的路径替换掉。
补充图片的时候就是通过这个对象来知道，哪些是用户选择的图片，用这些图片来填充心形就好了。

本来还想根据标签来补充图片，用户选择一个标签，会发送请求，后端会根据标签返回一个数组，这个数组的每个元素就是一个网络图片的路径，然后用这些路径加载图片，画到 canvas 上，但是后来仔细思考，这么做好像也不好，因为之所以要做补充图片的功能是为了那些和我一样，手机里没有很多图片的用户，选择了图片之后，把心形补充一下的，这部分用户对于图片的类型，要么是不在乎，要么是很难满足，所以最后还是决定在前端实现，直接在小程序里存一小部分图片，用的时候，就直接用，不请求后端了。

单选图片的时候可以自己裁剪，这个最开始的时候，自己有考虑到，用户也有反馈，但是其实这个功能有点鸡肋，因为在选择图片的时候，微信自带的选择图片是有编辑功能的，选择图片，点预览，再点编辑，就可以了，但是可能用户觉得这样也比较麻烦吧，最后我还是决定加上裁剪功能，如果设置的是手动裁剪，选择图片后，就开始裁剪，这样就简单点了。

图片裁剪，我用的是 [we-cropper](https://github.com/we-plugin/we-cropper) 这个插件。

#### 总结
这个小程序，很简单，实现起来也不是很复杂，但是我觉得依然有很多可以优化的地方，能力有限吧，代码感觉还可以写的再简单些，封装的更好点，不过暂时这样了，以后有时间，还会继续优化下。


